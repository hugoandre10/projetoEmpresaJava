<div class="container container-box pt-5">
  <div class="box-title my-4">
    <h5 class="card-title titulo">Cargos</h5>
    <button routerLink="/cadastroCargo" class="btn">Cadastrar Cargo</button>

  </div>
  <div style="height: 300px; overflow: auto">
    <table class="table table-striped table-hover">
      <thead>
        <tr>

          <th scope="col">Cargo</th>
          <th scope="col">Atribuição</th>
          <th scope="col">Funcionários</th>
          <th scope="col">Supervisor</th>

        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let cargo of cargos">

          <td>{{ cargo.car_nome }}</td>
          <td>{{ cargo.car_atribuicao }}</td>
          <td>
            <i
              routerLink="/listaFuncionario/{{ cargo.id_cargo }}"
               class="bi icones bi-people-fill"
            ></i>
          </td>
          <td>
            <i
              routerLink="/supervisorDoCargo/{{ cargo.id_cargo }}"
              class="bi icones bi-person-badge-fill"
            ></i>
          </td>
          <td>
            <div class="dropdown">
              <button class="btn btn-secondary " type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="fa-solid fa-screwdriver-wrench"></i>
              </button>
              <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                <li><a class="dropdown-item" routerLink="/editarCargo/{{ cargo.id_cargo }}">Editar</a></li>
                <div *ngIf="cargo.funcionario == 0">
                <li><a class="dropdown-item"  (click)="open(modalExcluir)" >Excluir</a></li>
              </div>

              </ul>

            </div>

            <ng-template #modalExcluir let-modal>
              <div class="modal-header">
                <h4 class="modal-title" id="excluir">Exclusão de Cargo</h4>
                <button type="button" class="close fecharModal" aria-label="Close" (click)="modal.dismiss('Cross click')">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <p>Deseja realmente excluir o Cargo?  </p>
                <span>{{cargo.car_nome}}</span>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn-s" (click)="modal.close('Save click')">Cancelar</button>
                <button type="button" class="btn-e" (click)="excluirCargo(cargo.id_cargo);modal.close('Save click')">Excluir</button>

              </div>
            </ng-template>


          </td>
        </tr>
      </tbody>
    </table>
  </div>



</div>


